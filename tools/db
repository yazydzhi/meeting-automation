#!/bin/bash
# –£–¥–æ–±–Ω—ã–π —Å–∫—Ä–∏–ø—Ç-–æ–±–µ—Ä—Ç–∫–∞ –¥–ª—è db_viewer.py —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞

SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
DB_VIEWER="$SCRIPT_DIR/db_viewer.py"
DB_INTERACTIVE="$SCRIPT_DIR/db_interactive.py"

# –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Å–∫—Ä–∏–ø—Ç—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç
if [ ! -f "$DB_VIEWER" ]; then
    echo "‚ùå db_viewer.py –Ω–µ –Ω–∞–π–¥–µ–Ω: $DB_VIEWER"
    exit 1
fi

if [ ! -f "$DB_INTERACTIVE" ]; then
    echo "‚ùå db_interactive.py –Ω–µ –Ω–∞–π–¥–µ–Ω: $DB_INTERACTIVE"
    exit 1
fi

# –ï—Å–ª–∏ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω—ã, –∑–∞–ø—É—Å–∫–∞–µ–º –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º
if [ $# -eq 0 ]; then
    echo "üîç –ó–∞–ø—É—Å–∫ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞..."
    python "$DB_INTERACTIVE"
else
    # –ó–∞–ø—É—Å–∫–∞–µ–º viewer —Å –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–º–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏
    python "$DB_VIEWER" "$@"
fi
