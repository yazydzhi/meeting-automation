# ========================================
# ОБЩИЕ НАСТРОЙКИ ПРОЕКТА
# ========================================

# Whisper API настройки
WHISPER_MODEL=whisper-1
WHISPER_BEAM_SIZE=5
WHISPER_TEMPERATURE=0.0

# Метод транскрипции
TRANSCRIPTION_METHOD=openai  # openai, whisper
WHISPER_MODEL_LOCAL=base     # tiny, base, small, medium, large

# Аудио обработка
AUDIO_SAMPLE_RATE=16000
AUDIO_CHANNELS=1
AUDIO_FORMAT=mp3
AUDIO_NORMALIZE=true

# Устранение эха
REMOVE_ECHO=true
ECHO_REMOVAL_METHOD=ffmpeg  # ffmpeg, aggressive, combined
NOISE_REDUCE_PROP_DECREASE=0.9
NOISE_REDUCE_STD_THRESH=2.0

# Анализ голоса и разделение на сегменты
VOICE_ANALYSIS_METHOD=mfcc  # mfcc, spectral, combined
MIN_SEGMENT_DURATION=5000   # минимальная длительность сегмента (мс) - 5 секунд
VOICE_CHANGE_THRESHOLD=1.2  # порог для определения смены говорящего (увеличен)
MFCC_WINDOW_SIZE=20         # размер окна MFCC (мс) - уменьшен для точности
MFCC_HOP_SIZE=5             # шаг MFCC (мс) - уменьшен для точности
SPECTRAL_FEATURES=true      # использовать спектральные признаки
MIN_CHANGE_DISTANCE=2000    # минимальное расстояние между изменениями (мс) - 2 секунды

# Распознавание участников
SPEAKER_DIARIZATION=true
SPEAKER_MIN_DURATION=3.0   # минимальная длительность паузы для смены спикера (сек)
SPEAKER_SILENCE_THRESHOLD=0.35  # порог тишины для смены спикера
SPEAKER_PAUSE_THRESHOLD=5000    # пауза для смены спикера (мс)
MAX_SPEAKERS=10             # максимальное количество спикеров

# Fallback настройки
FALLBACK_SEGMENT_DURATION=30000  # длительность сегмента при fallback (мс)

# Пути для обработки
AUDIO_PROCESSING_ROOT=data/audio_processing
TRANSCRIPT_OUTPUT_ROOT=data/transcripts
TEMP_AUDIO_ROOT=data/temp_audio

# Логирование
LOG_LEVEL=INFO
LOG_FILE=logs/audio_processing.log

# ========================================
# НАСТРОЙКИ OPENAI API ДЛЯ АНАЛИЗА
# ========================================

# OpenAI API ключ для анализа транскрипций
OPENAI_API_KEY=your_openai_api_key_here

# Модель GPT для анализа транскрипций
OPENAI_ANALYSIS_MODEL=gpt-4o-mini

# Температура для анализа (0.0 - 1.0)
OPENAI_ANALYSIS_TEMPERATURE=0.3

# Максимальное количество токенов для анализа
OPENAI_ANALYSIS_MAX_TOKENS=4000

# ========================================
# НАСТРОЙКИ ПО УМОЛЧАНИЮ
# ========================================

# Временная зона по умолчанию
DEFAULT_TIMEZONE=Europe/Moscow

# Формат даты по умолчанию
DEFAULT_DATE_FORMAT=%Y-%m-%d
DEFAULT_TIME_FORMAT=%H:%M:%S

# Очистка временных файлов
TEMP_CLEANUP_DAYS=7
MAX_TEMP_FILE_SIZE_MB=100
